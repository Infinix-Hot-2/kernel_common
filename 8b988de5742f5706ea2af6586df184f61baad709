{
  "comments": [
    {
      "key": {
        "uuid": "f40956de_7dce9388",
        "filename": "drivers/mmc/card/Kconfig",
        "patchSetId": 1
      },
      "lineNbr": 77,
      "author": {
        "id": 1037321
      },
      "writtenOn": "2016-01-28T20:50:58Z",
      "side": 1,
      "message": "maybe \"slow\" is a better term?",
      "range": {
        "startLine": 77,
        "startChar": 63,
        "endLine": 77,
        "endChar": 67
      },
      "revId": "8b988de5742f5706ea2af6586df184f61baad709",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5418622c_75a18861",
        "filename": "drivers/mmc/card/Kconfig",
        "patchSetId": 1
      },
      "lineNbr": 77,
      "author": {
        "id": 1032276
      },
      "writtenOn": "2016-01-28T20:55:37Z",
      "side": 1,
      "message": "Hmmm, you had some certification tests, what did you call the derated speed after the device was (thermally) aged? I feel like slow is a bit too vague. Scientific terms are always better to suppress passionate responses or FUD.\n\nI have used EOL instead of aged, I understandably get emotional responses when I use that word ;-}",
      "parentUuid": "f40956de_7dce9388",
      "range": {
        "startLine": 77,
        "startChar": 63,
        "endLine": 77,
        "endChar": 67
      },
      "revId": "8b988de5742f5706ea2af6586df184f61baad709",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "14f98afe_7b397fa8",
        "filename": "drivers/mmc/card/Kconfig",
        "patchSetId": 1
      },
      "lineNbr": 77,
      "author": {
        "id": 1037321
      },
      "writtenOn": "2016-01-28T20:59:19Z",
      "side": 1,
      "message": "How about throttled?",
      "parentUuid": "5418622c_75a18861",
      "range": {
        "startLine": 77,
        "startChar": 63,
        "endLine": 77,
        "endChar": 67
      },
      "revId": "8b988de5742f5706ea2af6586df184f61baad709",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "34176efe_54b56c91",
        "filename": "drivers/mmc/card/block.c",
        "patchSetId": 1
      },
      "lineNbr": 133,
      "author": {
        "id": 1015340
      },
      "writtenOn": "2016-01-28T20:33:34Z",
      "side": 1,
      "message": "[250, 100000] is a fairly arbitrary range.  It seems more sensible to allow the entire range of unsigned int (if a bit overkill).  0 can be used as a flag to disable ratelimiting, since it\u0027s meaningless to limit your throughput to nothing.",
      "range": {
        "startLine": 132,
        "startChar": 0,
        "endLine": 133,
        "endChar": 78
      },
      "revId": "8b988de5742f5706ea2af6586df184f61baad709",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "741d661a_b9bf9bca",
        "filename": "drivers/mmc/card/block.c",
        "patchSetId": 1
      },
      "lineNbr": 133,
      "author": {
        "id": 1032276
      },
      "writtenOn": "2016-01-28T20:51:57Z",
      "side": 1,
      "message": "The values were not arbitrary. I need to add comments regarding the selection into the code.\n\nOur devices become completely unusable at 250KB/s, determined experimentally over our dogfood population, any rates lower than this and you might as well walk away from the device. The 32GB SLC eMMC on the N9 can reach this performance level after a year of heavy use, \u003e80% full, and if more than a day has gone by between fstrims.\n\nAny value above 12800 will have no affect given the granularity of jiffies at 100Hz (128KB maximum transfer size per command). Performance group was experimenting with 1KHz, so I viewed 128000 as the maximum useful in all categories of devices, then dropped down to 100000 to round it out.\n\nI could make the MAX_RATELIMIT a mathematical calculations based on maximum transfer size and HZ granularity.\n\nI could also use a higher resolution timer, but for a valid range of 250KB/s to 5MB/s 100Hz works.\n\nI got nervous about 0 for off, since off really is mathematically âˆž or the highest value one can pick.",
      "parentUuid": "34176efe_54b56c91",
      "range": {
        "startLine": 132,
        "startChar": 0,
        "endLine": 133,
        "endChar": 78
      },
      "revId": "8b988de5742f5706ea2af6586df184f61baad709",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "54ef8232_fd774716",
        "filename": "drivers/mmc/card/block.c",
        "patchSetId": 1
      },
      "lineNbr": 133,
      "author": {
        "id": 1015340
      },
      "writtenOn": "2016-01-28T21:19:22Z",
      "side": 1,
      "message": "250 KB/s is unusable for our use case, but I\u0027m hoping you\u0027re planning on sending this upstream?  Other people may want to crank this even lower for some reason.\n\nIn general I don\u0027t like second-guessing the user for things like this ... if they choose to shoot themselves in the foot with an unreasonably low limit then that\u0027s their call.  (OTOH I suggested 0 as an flag, because that lets the user do anything short of literally making their device unusable.)\n\nFor the upper limit, calculate it at compile-time based on CONFIG_HZ and warn if the user writes a value so high that it has no effect.",
      "parentUuid": "741d661a_b9bf9bca",
      "range": {
        "startLine": 132,
        "startChar": 0,
        "endLine": 133,
        "endChar": 78
      },
      "revId": "8b988de5742f5706ea2af6586df184f61baad709",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "14f98afe_9bfc4b5f",
        "filename": "drivers/mmc/card/block.c",
        "patchSetId": 1
      },
      "lineNbr": 325,
      "author": {
        "id": 1032276
      },
      "writtenOn": "2016-01-28T20:19:57Z",
      "side": 1,
      "message": "We print none (for MAX_RATELIMIT), we should allow parsing of none as an alias.",
      "range": {
        "startLine": 325,
        "startChar": 0,
        "endLine": 325,
        "endChar": 30
      },
      "revId": "8b988de5742f5706ea2af6586df184f61baad709",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "54ef8232_7dddf78f",
        "filename": "drivers/mmc/card/block.c",
        "patchSetId": 1
      },
      "lineNbr": 2460,
      "author": {
        "id": 1032276
      },
      "writtenOn": "2016-01-28T20:19:57Z",
      "side": 1,
      "message": "wondering out loud. Is ratelimit the best word to describe this? \"ratelimit\" is not an english word (rate limit). \"wr_\" and \"rd_\" prefix may even be viewed as cryptic.\n\nread_rate_limit?\nread_max_speed?\nread_max_rate?",
      "range": {
        "startLine": 2460,
        "startChar": 30,
        "endLine": 2460,
        "endChar": 45
      },
      "revId": "8b988de5742f5706ea2af6586df184f61baad709",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "34fe8ee6_3c24118b",
        "filename": "drivers/mmc/card/block.c",
        "patchSetId": 1
      },
      "lineNbr": 2460,
      "author": {
        "id": 1015340
      },
      "writtenOn": "2016-01-28T20:33:34Z",
      "side": 1,
      "message": "max_{read,write}_speed?",
      "parentUuid": "54ef8232_7dddf78f",
      "range": {
        "startLine": 2460,
        "startChar": 30,
        "endLine": 2460,
        "endChar": 45
      },
      "revId": "8b988de5742f5706ea2af6586df184f61baad709",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d40c52f0_d95a5334",
        "filename": "drivers/mmc/card/block.c",
        "patchSetId": 1
      },
      "lineNbr": 2460,
      "author": {
        "id": 1032276
      },
      "writtenOn": "2016-01-28T20:51:57Z",
      "side": 1,
      "message": "I\u0027ll buy that one.\n\nMight even consider actual_read_speed/actual_write_speed (1 hour or more running average) and uptime_read_speed/uptime_write_speed instrumentation for the future, the names all clearly spell out!",
      "parentUuid": "34fe8ee6_3c24118b",
      "range": {
        "startLine": 2460,
        "startChar": 30,
        "endLine": 2460,
        "endChar": 45
      },
      "revId": "8b988de5742f5706ea2af6586df184f61baad709",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}