{
  "comments": [
    {
      "key": {
        "uuid": "AAAA9n///2A\u003d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1004277
      },
      "writtenOn": "2010-11-17T18:52:57Z",
      "side": 1,
      "message": "The check for whether a zero-length packet must be written is made based on the value of dev-\u003eep_in-\u003emaxpacket, but the data is written in maximum BULK_BUFFER_SIZE chunks at this layer.  Are the two values always the same, or should the checks for zero-length-packet needed and the actual writes use the same value?",
      "revId": "9d752f0f75d420c3f745c9d4d334946dc7c8e970",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAA9n///1o\u003d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1000830
      },
      "writtenOn": "2010-11-17T19:27:06Z",
      "side": 1,
      "message": "The check is based entirely on the total size of the transfer and the maxpacket (64 for fullspeed or 512 for highspeed).  The BULK_BUFFER_SIZE should not be important, as this does not affect what the host sees on the other end.  \n\nThe way this works is the host reads until it receives a \"short packet\", which is typically the last packet being smaller than the maxpacket size.  But if the total transfer is a multiple of maxpacket, we need to send a zero length packet at the end (which will be the \"short packet\" instead).  The BULK_BUFFER_SIZE just needs to be a multiple of maxpacket so we don\u0027t end up sending short packets prematurely, but other than that it doesn\u0027t figure into this logic at all.",
      "parentUuid": "AAAA9n///2A\u003d",
      "revId": "9d752f0f75d420c3f745c9d4d334946dc7c8e970",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAA9n///1Y\u003d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1004277
      },
      "writtenOn": "2010-11-17T19:32:56Z",
      "side": 1,
      "message": "Got it, thanks.",
      "parentUuid": "AAAA9n///1o\u003d",
      "revId": "9d752f0f75d420c3f745c9d4d334946dc7c8e970",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}